{"version":3,"sources":["format.js"],"names":["define","$","str","init","get_strings","key","component","done","ss","document","ready","change","val","remove","trigger","parent","hide","show","append","oldcoursedisplay","window","localStorage","getItem","layout_value","setItem","find","eq","fail"],"mappings":"AAuBCA,OAAO,CAAC,SAAU,YACnB,SAASC,EAAGC,GA0FR,MAAO,CACHC,KA1FJ,WACID,EAAIE,YAAY,CACZ,CAACC,IAAO,wBAAyBC,UAAa,wBAC/CC,KAAK,SAASC,GACbP,EAAEQ,UAAUC,MAAM,WAIdT,EAAE,yBAAyBU,OAAO,WAG9B,GAAoB,GAFDV,EAAE,yBAAyBW,MAG1CX,EAAE,uCAAuCY,SACzCZ,EAAE,qBAAqBW,IAAI,GAAGE,QAAQ,UACtCb,EAAE,2BAA2Bc,SAASA,SAASC,OAC/Cf,EAAE,+BAA+Bc,SAASA,SAASC,OACnDf,EAAE,oCAAoCc,SAASA,SAASE,OAE3B,GADLhB,EAAE,oCAAoCW,MAE1DX,EAAE,gCAAgCc,SAASA,SAASC,OAEpDf,EAAE,gCAAgCc,SAASA,SAASE,WAGrD,CACHhB,EAAE,qBAAqBiB,OAAO,qBAAuBV,EAAG,GAAK,aAC7D,IAAIW,EAAmBC,OAAOC,aAAaC,QAAQ,iBACnDrB,EAAE,qBAAqBW,IAAIO,GAAkBL,QAAQ,UACrDb,EAAE,2BAA2Bc,SAASA,SAASE,OAC/ChB,EAAE,oCAAoCc,SAASA,SAASC,OACxDf,EAAE,gCAAgCc,SAASA,SAASC,OAG/B,GADLf,EAAE,qBAAqBW,MAEvCX,EAAE,+BAA+Bc,SAASA,SAASC,OAEnDf,EAAE,+BAA+Bc,SAASA,SAASE,SAG3D,IAAIM,EAAetB,EAAE,yBAAyBW,MAC9CQ,OAAOC,aAAaG,QAAQ,gBAAiBvB,EAAE,qBAAqBW,OAGhD,GAAhBW,GACAtB,EAAE,qBAAqBwB,KAAK,UAAUC,GAAG,GAAGV,OAC5Cf,EAAE,2BAA2Bc,SAASA,SAASC,OAC/Cf,EAAE,+BAA+Bc,SAASA,SAASC,OAEtB,GADLf,EAAE,oCAAoCW,MAE1DX,EAAE,gCAAgCc,SAASA,SAASC,OAEpDf,EAAE,gCAAgCc,SAASA,SAASE,SAIxDhB,EAAE,2BAA2Bc,SAASA,SAASE,OAEtB,GADLhB,EAAE,qBAAqBW,OAEvCX,EAAE,+BAA+Bc,SAASA,SAASC,OAEvDf,EAAE,oCAAoCc,SAASA,SAASC,OACxDf,EAAE,gCAAgCc,SAASA,SAASC,QAExDf,EAAE,qBAAqBU,OAAO,WAED,GADLV,EAAE,qBAAqBW,MAEvCX,EAAE,+BAA+Bc,SAASA,SAASC,OAEnDf,EAAE,+BAA+Bc,SAASA,SAASE,SAI3DhB,EAAE,oCAAoCU,OAAO,WAEZ,GADLV,EAAE,oCAAoCW,MAE1DX,EAAE,gCAAgCc,SAASA,SAASC,OAEpDf,EAAE,gCAAgCc,SAASA,SAASE,aAMlEU,KAAK","sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Enhancements to all components for easy course accessibility.\r\n *\r\n * @module     format/remuiformat\r\n * @copyright  WisdmLabs\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\n define(['jquery', 'core/str'],\r\nfunction($, str) {\r\n    function init() {\r\n        str.get_strings([\r\n            {'key': 'showallsectionperpage', 'component': 'format_remuiformat'},\r\n        ]).done(function(ss) {\r\n            $(document).ready(function() {\r\n                var sectionlayout_val;\r\n                var sectionbackground_val;\r\n                // Hide and show the course settings on course format selection.\r\n                $(\"#id_remuicourseformat\").change(function() {\r\n                    var layout_value = $(\"#id_remuicourseformat\").val();\r\n                    // CARD.\r\n                    if (layout_value == 0) {\r\n                        $(\"#id_coursedisplay option[value='0']\").remove();\r\n                        $('#id_coursedisplay').val(1).trigger('change');\r\n                        $(\"#id_remuiteacherdisplay\").parent().parent().hide();\r\n                        $(\"#id_remuidefaultsectionview\").parent().parent().hide();\r\n                        $(\"#id_remuienablecardbackgroundimg\").parent().parent().show();\r\n                        sectionbackground_val = $(\"#id_remuienablecardbackgroundimg\").val();\r\n                        if (sectionbackground_val == 0) {\r\n                            $(\"#id_remuidefaultsectiontheme\").parent().parent().hide();\r\n                        } else {\r\n                            $(\"#id_remuidefaultsectiontheme\").parent().parent().show();\r\n                        }\r\n                        // LIST.\r\n                    } else {\r\n                        $('#id_coursedisplay').append('<option value=\"0\">' + ss[0] + '</option>');\r\n                        var oldcoursedisplay = window.localStorage.getItem('coursedisplay');\r\n                        $('#id_coursedisplay').val(oldcoursedisplay).trigger('change');\r\n                        $(\"#id_remuiteacherdisplay\").parent().parent().show();\r\n                        $(\"#id_remuienablecardbackgroundimg\").parent().parent().hide();\r\n                        $(\"#id_remuidefaultsectiontheme\").parent().parent().hide();\r\n                    }\r\n                    sectionlayout_val = $(\"#id_coursedisplay\").val();\r\n                    if (sectionlayout_val == 1) {\r\n                        $(\"#id_remuidefaultsectionview\").parent().parent().hide();\r\n                    } else {\r\n                        $(\"#id_remuidefaultsectionview\").parent().parent().show();\r\n                    }\r\n                });\r\n                var layout_value = $(\"#id_remuicourseformat\").val();\r\n                window.localStorage.setItem('coursedisplay', $(\"#id_coursedisplay\").val());\r\n\r\n                // CARD.\r\n                if (layout_value == 0) {\r\n                    $(\"#id_coursedisplay\").find(\"option\").eq(1).hide();\r\n                    $(\"#id_remuiteacherdisplay\").parent().parent().hide();\r\n                    $(\"#id_remuidefaultsectionview\").parent().parent().hide();\r\n                    sectionbackground_val = $(\"#id_remuienablecardbackgroundimg\").val();\r\n                    if (sectionbackground_val == 0) {\r\n                        $(\"#id_remuidefaultsectiontheme\").parent().parent().hide();\r\n                    } else {\r\n                        $(\"#id_remuidefaultsectiontheme\").parent().parent().show();\r\n                    }\r\n                    // LIST.\r\n                } else {\r\n                    $(\"#id_remuiteacherdisplay\").parent().parent().show();\r\n                    sectionlayout_val = $(\"#id_coursedisplay\").val();\r\n                    if (sectionlayout_val == 1) {\r\n                        $(\"#id_remuidefaultsectionview\").parent().parent().hide();\r\n                    }\r\n                    $(\"#id_remuienablecardbackgroundimg\").parent().parent().hide();\r\n                    $(\"#id_remuidefaultsectiontheme\").parent().parent().hide();\r\n                }\r\n                $(\"#id_coursedisplay\").change(function() {\r\n                    sectionlayout_val = $(\"#id_coursedisplay\").val();\r\n                    if (sectionlayout_val == 1) {\r\n                        $(\"#id_remuidefaultsectionview\").parent().parent().hide();\r\n                    } else {\r\n                        $(\"#id_remuidefaultsectionview\").parent().parent().show();\r\n                    }\r\n                });\r\n\r\n                $(\"#id_remuienablecardbackgroundimg\").change(function() {\r\n                    sectionbackground_val = $(\"#id_remuienablecardbackgroundimg\").val();\r\n                    if (sectionbackground_val == 0) {\r\n                        $(\"#id_remuidefaultsectiontheme\").parent().parent().hide();\r\n                    } else {\r\n                        $(\"#id_remuidefaultsectiontheme\").parent().parent().show();\r\n                    }\r\n                });\r\n\r\n            });\r\n        }\r\n        ).fail(function() {\r\n\r\n        });\r\n    }\r\n\r\n    // Must return the init function.\r\n    return {\r\n        init: init\r\n    };\r\n});\r\n"],"file":"format.min.js"}